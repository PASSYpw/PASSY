"use strict";var passy=function(){function e(e,a,n,s){return e?(n||(n=function(){t("There has been a problem with the server. Please try again later.")}),s||(s={}),s.url="action.php",s.method="POST",s.data=e,s.success=function(e,n,s){if(!e.success)switch(e.msg){case"not_authenticated":return void d();case"database_error":return void t("There has been a problem with the database. Please try again later.")}a(e,n,s)},s.error=function(e,t,a){n(e,t,a)},$.ajax(s)):null}function t(e,t,n,s){var i=$('<div class="snackbar"></div>');t||(t="Dismiss");var r=setTimeout(function(){a(i)},5e3);n||(n=function(){clearTimeout(r),a(i)}),s||(s="primary");var o=$('<button class="btn btn-'+s+' btn-flat">'+t+"</button>");i.append('<span class="snackbar-text">'+e+"</span>"),i.append(o),o.on("click",n),$("body").append(i),setTimeout(function(){i.addClass("snackbar-show"),i.css({bottom:"-"+i.outerHeight()+"px"}),setTimeout(function(){var e=v++*(i.outerHeight()+10)+20;i.css({bottom:e+"px"})},1)},1)}function a(e){e.removeClass("snackbar-show"),e.css({bottom:"-"+e.outerHeight()+"px"}),e.on("transitionend webkitTransitionEnd oTransitionEnd",function(){e.off("transitionend webkitTransitionEnd oTransitionEnd"),e.remove(),v--})}function n(){$("body").hasClass("modal-open")&&$(".modal.fade.in").modal("hide")}function s(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a="",n=0;n<e;n++){var s=0===n||n===e?t:t+"@#$%_-";a+=s.charAt(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.floor(Math.random()*e)}(s.length))}return a}function i(a,s,i){if(!f){f=!0;var r=$("#page_"+h),o=$("#page_"+a),d=$(".load-spinner");h=a,function(e){p=e,$("*[data-page-scope]").each(function(t,a){var n=$(a);n.data("page-scope")!==e?n.hide():n.show()})}(o.attr("data-apply-page-scope")),n(),d.addClass("shown"),$("*[data-page-highlight]").each(function(e,t){var n=$(t);n.attr("data-page-highlight")!==a&&n.removeClass("active")});var c=function(){$("*[data-page-highlight]").each(function(e,t){var n=$(t);n.attr("data-page-highlight")===a&&n.addClass("active")}),!1!==i&&history.pushState({page:h,scope:p},"PASSY","#!p="+h),d.removeClass("shown"),o.fadeIn(300),f=!1,s&&s()};r.fadeOut(300,function(){"password_list"===a||"archived_password_list"===a?function(a){var n=$("#tbodyPasswords"),s=$("#tbodyArchivedPasswords");e("a=password/queryAll",function(e){var i="",r="";e.success?$.each(e.data,function(e,t){var a=t.description.raw?t.description.safe:"<i>None</i>",n=t.username.raw?t.username.safe:"<i>None</i>",s="<tr data-visible='true' id='"+t.password_id+"'>";t.archived?(s+="<td><span class='force-select no-contextmenu'> "+n+"</span></td>",s+="<td><button class='btn btn-default btn-flat btn-block' disabled='disabled'><i class='material-icons'>remove_red_eye</i></button></td>",s+="<td>"+a+"</td>",s+="<td>"+t.date_archived.pretty+"</td>",s+="<td><button class='btn btn-default btn-flat btn-sm' data-password-action='restore' data-password-id='"+t.password_id+"'><i class='material-icons'>unarchive</i></button><a class='btn btn-default btn-flat btn-sm' data-password-action='delete' data-password-id='"+t.password_id+"'><i class='material-icons'>delete</i></a></td>",r+=s+="</tr>"):(s+="<td><span class='force-select no-contextmenu'>"+n+"</span></td>",s+="<td><button class='btn btn-default btn-flat btn-block' data-password-action='show' data-password-id='"+t.password_id+"'><i class='material-icons'>remove_red_eye</i></button></td>",s+="<td>"+a+"</td>",s+="<td>"+t.date_added.pretty+"</td>",s+="<td><button class='btn btn-default btn-flat btn-sm' data-password-action='edit' data-password-id='"+t.password_id+"'><i class='material-icons'>edit</i></button><button class='btn btn-default btn-flat btn-sm' data-password-action='archive' data-password-id='"+t.password_id+"'><i class='material-icons'>archive</i></button></td>",i+=s+="</tr>")}):t("There has been a problem with the server. Please try again later"),n.html(i),s.html(r),a&&a(e.msg)},function(){n.html(""),t("There has been a problem with the server. Please try again later"),a&&a(!1)})}(c):"login_history"===a?function(a){var n=$("#tbodyLoginHistory");e("a=iplog/queryAll",function(e){var s="";if(e.success){var i=e.data;$.each(i,function(e,t){var a="<tr>";a+="<td><span>"+t.ip+"</span></td>",a+="<td><span>"+t.user_agent+"</span></td>",a+="<td><span>"+t.date.pretty+"</span></td>",s+=a+="</tr>"})}else t("There has been a problem with the server. Please try again later");n.html(s),a&&a()},function(){n.html(""),t("There has been a problem with the server. Please try again later"),a&&a(!1)})}(c):"user_settings"===a?l(function(){if(!m){var e=$("#btn2faSetupModalToggle"),t=$("#btn2faDisableModalToggle"),a=$("#text_2fa_status"),n=$("#page_user_settings_form_change_password"),s=$("#page_user_settings_alert_change_password_disabled");m.two_factor.enabled?(a.html("Enabled"),a.removeClass("text-danger"),a.addClass("text-success"),e.hide(),e.attr("disabled",""),t.show(),t.attr("disabled",null),n.hide(),s.show()):(a.html("Disabled"),a.removeClass("text-success"),a.addClass("text-danger"),e.show(),e.attr("disabled",null),t.hide(),t.attr("disabled",""),n.show(),s.hide())}c()}):c()})}}function r(e){i(h,e,!1)}function o(){e("a=user/logout",function(){t("You have been logged out!"),i("login")})}function d(){t("Your session has expired!"),f=!1,i("login",function(){history.replaceState({page:h,scope:p},"PASSY","#!p="+h)},!1)}function l(t){e("a=status",function(e){e.success?$("#modal_connection_lost").modal("hide"):c(),m=e.data,t&&t(e)},function(){c()})}function c(){$("#modal_connection_lost").modal("show")}function u(){var a=$("#tbodyPasswords"),d=$("#tbodyArchivedPasswords"),l=$(".text > input"),c=$("#dropdownContextMenu");$.waves(".nav > li > a"),$.waves(".btn:not([disabled])"),l.each(function(e,t){var a=$(t);a.val().length>0&&a.addClass("hastext")}),l.change(function(){var e=$(this);e.val().length>0?e.addClass("hastext"):e.removeClass("hastext")}),$("*[data-random-value]").click(function(){var e=$(this),t=$(e.data("random-value"));t.val(s(20)),t.attr("type","text"),t.change()}),$("*[data-next='tab']").click(function(e){e.preventDefault();var t=$(this);$(t.data("target")+" > .active").next("li").find("a").trigger("click")}),$("*[data-hide]").click(function(){var e=$(this);$(e.data("hide")).hide()}),$("*[data-show]").click(function(){var e=$(this);$(e.data("show")).show()}),$("*[data-submit]").click(function(){var e=$(this),t=$(e.data("submit"));t.data("submit-btn",e),t.submit()});var u=100;$(".dropdown-menu").find("li").each(function(e,t){$(t).css({"animation-delay":u+"ms"}),u+=25}),$("input[data-search-in]").on("keyup",function(){console.log("change");var e=$(this),t=e.val(),a=$(e.attr("data-search-in"));a.is("table")&&(a=a.find("tbody")),a.children("tr").each(function(e,a){var n=$(a),s="true"===n.attr("data-visible"),i=n.children(0).text(),r=n.children(2).text();"None"!==i&&-1!==i.indexOf(t)||"None"!==r&&-1!==r.indexOf(t)?s||(n.show(),n.attr("data-visible","true")):s&&(n.hide(),n.attr("data-visible","false"))})});var f=0,m=$(".navbar-fixed-top");$(window).scroll(function(){$(".dropdown.open").find(".dropdown-toggle").dropdown("toggle"),$(".contextmenu.open").removeClass("open");var e=$(document).scrollTop(),t=m.children().first().outerHeight();e<t&&(m.css({transform:"translateY(-"+e+"px)"}),f=e),e>=t&&m.css({transform:"translateY(-"+t+"px)"})}),$(window).focus(function(){var e=$(".content");(b.fade_on_focus_loss||e.hasClass("content-hidden"))&&e.removeClass("content-hidden")}).blur(function(){b.fade_on_focus_loss&&0===$("iframe:hover").length&&$(".content").addClass("content-hidden")}),$(document).on("keydown",function(e){116===(e.which||e.keyCode)&&(e.preventDefault(),e.shiftKey?location.reload(!0):r())}),$(document).on("mouseup",function(e){1===e.which&&c.removeClass("open")}),$(document).on("contextmenu",function(e){if(!e.shiftKey){var t=e.clientX,a=e.clientY,n=$(document.elementFromPoint(t,a));n.hasClass("no-contextmenu")||n.parents(".no-contextmenu").length>0||n.is("input")||n.is("textarea")||n.is("select")||(e.preventDefault(),c.removeClass("open"),setTimeout(function(){c.css({transform:"translate("+t+"px, "+a+"px)"}),c.addClass("open")},10))}}),$("*[data-to-page]").click(function(e){var t=$(this).attr("data-to-page");e.preventDefault(),"refresh"===t&&(t=h),i(t)}),$(window).on("popstate",function(e){console.log(e);var t=e.originalEvent.state;p===t.scope?i(t.page,null,!1):(history.replaceState({page:h,scope:p},"PASSY","#!p="+h),e.preventDefault())}),$("#page_user_settings_form_import").submit(function(e){e.preventDefault();var a=$(this),n=new FormData;n.append("a","misc/import");a.find('input[name="with-pass"]')[0].checked&&(n.append("with-pass","on"),n.append("pass",a.find('input[name="pass"]').val())),$.each($("#import-file")[0].files,function(e,t){n.append("parse-file",t)}),$.ajax({url:"action.php",type:"POST",cache:!1,contentType:!1,processData:!1,data:n,success:function(e){e.success?(t(0===e.data.imported?"Nothing has been imported.":"The import was successful."),setTimeout(function(){i("password_list")},800)):t("There has been a problem with the server. Please try again later")}})}),$("#page_user_settings_form_2fa_setup").submit(function(t){var a=$(this);t.preventDefault();var n=a.parent().parent().parent().parent().parent().find("button");n.attr("disabled",""),e(a.serialize(),function(e){n.attr("disabled",null),e.success&&(a[0].reset(),a.find("input.hastext").change(),$("#tab_2fa").find("a:last").click(),r())})}),$("#page_login_form_login").submit(function(a){var n=$(this);a.preventDefault();var s=n.serialize();n.find("input").attr("disabled","disabled"),n.find("button").attr("disabled","disabled"),e(s,function(e){var a=$("#page_login_modal_2fa"),s=!0;if(e.success)i("password_list"),a.find("input").attr("disabled","");else switch(e.msg){case"already_logged_in":i("password_list");break;case"invalid_credentials":t("The entered credentials do not match any account.");break;case"two_factor_needed":a.find("input").attr("disabled",null),a.modal("show"),s=!1;break;case"invalid_code":t("The entered two-factor-authentication code is invalid!"),a.find("input").attr("disabled",null),s=!1}s&&n[0].reset(),n.find("input").change(),n.find("input").not(".modal input").attr("disabled",null),n.find("button").attr("disabled",null)},function(){t("There has been a problem with the server."),n[0].reset(),n.find("input").change(),n.find("input").attr("disabled",null),n.find("button").attr("disabled",null)})}),$("#page_register_form_register").submit(function(a){a.preventDefault();var n=$(this),s=n.serialize();n.find("input").attr("disabled","disabled"),n.find("button").attr("disabled","disabled"),e(s,function(e){if(e.success)i("login"),t("Your account has been created. You may log in.");else switch(e.msg){case"already_logged_in":i("password_list");break;case"passwords_not_matching":t("The entered passwords do not match.");break;case"recaptcha_fail":t("Captcha could not be verified.");break;case"username_exists":t("The username is occupied.")}n[0].reset(),n.find("input").change(),n.find("input").attr("disabled",null),n.find("button").attr("disabled",null),grecaptcha||grecaptcha.reset()},function(){t("There has been a problem with the server."),n[0].reset(),n.find("input").change(),n.find("input").attr("disabled",null),n.find("button").attr("disabled",null),grecaptcha||grecaptcha.reset()})}),$("#page_password_list_form_add").submit(function(a){a.preventDefault();var s=$(this),i=s.find("button");i.attr("disabled",""),e(s.serialize(),function(e){i.attr("disabled",null),e.success?(s[0].reset(),s.find("input.hastext").removeClass("hastext"),r(),n()):t("There has been a problem with the server. Please try again later")})}),$("#page_password_list_form_edit").submit(function(a){a.preventDefault();var s=$(this),i=s.find("button");i.attr("disabled",""),e(s.serialize(),function(e){i.attr("disabled",null),e.success?(s[0].reset(),s.find("input").change(),r(),n()):t("There has been a problem with the server. Please try again later")})}),$("#page_user_settings_form_change_password").submit(function(a){a.preventDefault();var n=$(this),s=n.find("button");s.attr("disabled",""),e(n.serialize(),function(e){s.attr("disabled",null),e.success?(n[0].reset(),n.find("input").change(),o()):t("invalid_credentials"===e.msg?"Your current password is not correct.":"passwords_not_matching"===e.msg?"Your new passwords do not match.":"There has been a problem with the server. Please try again later")})}),$("#page_user_settings_form_2fa_disable").submit(function(a){var s=$(this),i=s.data("submit-btn");a.preventDefault(),i.attr("disabled",""),e(s.serialize(),function(e){i.attr("disabled",null),e.success?(s[0].reset(),s.find("input").change(),t("Two-factor-authentication has been disabled!"),r(),n()):t("invalid_code"===e.msg?"The entered two-factor-authentication code is invalid!":"There has been a problem with the server. Please try again later")})}),$("#page_user_settings_form_change_username").submit(function(a){a.preventDefault();var n=$(this),s=n.find("button");s.attr("disabled",""),e(n.serialize(),function(e){s.attr("disabled",null),e.success?(n[0].reset(),n.find("input").change(),o()):t("username_exists"===e.msg?"The username is occupied.":"invalid_credentials"===e.msg?"Your current password is not correct.":"There has been a problem with the server. Please try again later")})}),$("#btnLogout").click(function(e){e.preventDefault(),o()}),a.on("click",'*[data-password-action="show"]',function(a){var n=$(this),s=n.data("password-id"),i=n.parent();a.preventDefault(),n.attr("disabled",""),n.html(g),e("a=password/query&id="+encodeURIComponent(s),function(e){e.success?(i.html("<span class='force-select no-contextmenu'>"+e.data.password.safe+"</span>"),function(e,t){e.append(" <span id='timeLeft_"+t+"' class='text-muted'></span>");var a=60,n=e.find("#timeLeft_"+t),s=function(){n.html(a),10===a?(n.addClass("text-danger"),n.removeClass("text-muted")):0===a&&(clearInterval(i),e.html("<a class='btn btn-default btn-flat btn-block' data-password-action='show' data-password-id='"+t+"'><i class='material-icons'>remove_red_eye</i></a>")),a--};s();var i=setInterval(s,1e3)}(i,s)):(n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later"))},function(){n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later")})}),a.on("click",'*[data-password-action="edit"]',function(a){var n=$(this),s=n.data("password-id"),i=$("#page_password_list_form_edit");a.preventDefault(),n.attr("disabled",""),n.html(g),e("a=password/query&id="+encodeURIComponent(s),function(e){e.success?(n.html("<i class='material-icons'>edit</i>"),n.attr("disabled",null),i.find("input[name='id']").val(s),i.find("input[name='username']").val(e.data.username.raw).change(),i.find("input[name='password']").val(e.data.password.raw).change(),i.find("input[name='description']").val(e.data.description.raw).change(),$("#page_password_list_modal_edit").modal("show")):(n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later"))},function(){n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later")})}),a.on("click",'*[data-password-action="archive"]',function(a){var n=$(this),s=n.data("password-id");a.preventDefault(),n.attr("disabled",""),n.html(g),e("a=password/archive&id="+encodeURIComponent(s),function(e){e.success?r():(n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later"))},function(){n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later")})}),d.on("click",'*[data-password-action="restore"]',function(a){var n=$(this),s=n.data("password-id");a.preventDefault(),n.attr("disabled",""),n.html(g),e("a=password/restore&id="+encodeURIComponent(s),function(e){e.success?r():(n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later"))},function(){n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later")})}),d.on("click",'*[data-password-action="delete"]',function(a){var n=$(this),s=n.data("password-id");a.preventDefault(),n.attr("disabled",""),n.html(g),e("a=password/delete&id="+encodeURIComponent(s),function(e){e.success?r():(n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later"))},function(){n.html("<i class='material-icons'>error</i>"),t("There has been a problem with the server. Please try again later")})}),$(".modal").on("shown.bs.modal",function(){$(this).find("input[type=text],textarea,select").filter(":visible:first").focus()}),$("#page_user_settings_modal_2fa_setup").on("show.bs.modal",function(){var a=$(this);$("#tab_2fa").find("a:first").tab("show"),a.find("form").each(function(e,t){t.reset()}),$("#btn_2fa_next").show(),$("#btn_2fa_enable_submit").hide(),$("#btn_2fa_finish").hide(),e("a=user/2faGenerateKey",function(e){e.success?($("#pre_2fa_key").text(e.data.privateKey),$("#pre_2fa_key2").text(e.data.privateKey),$("#img_2fa_key").attr("src",e.data.qrCodeUrl),a.find("input[name='2faPrivateKey']").val(e.data.privateKey).change()):t("There has been a problem with the server. Please try again later")})})}var h="login",p="logged_out",f=!1,b={fade_on_focus_loss:!0},m=null,v=0,g='<svg class="spinner" width="20px" height="20px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>';return $(function(){h=function(){var e=location.href.substring(location.href.indexOf("#"));return"#!p="===e.substring(0,4)&&e.length>1?e.substring(4):h}(),l(function(){m.logged_in&&"logged_out"===p?"login"!==h&&"register"!==h||(h="password_list"):m.logged_in||"logged_in"!==p||d(),r(function(){history.replaceState({page:h,scope:p},"PASSY","#!p="+h)}),u(),setInterval(function(){l(function(){m.logged_in||"logged_in"!==p||d()})},2e3)})}),{setOption:function(e,t){var a=b[e];return b[e]=t,"Previous value was "+a}}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3N5LmpzIl0sIm5hbWVzIjpbInBhc3N5IiwicmVxdWVzdCIsImRhdGEiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJvcHRpb25zIiwidXJsIiwibWV0aG9kIiwic3VjY2VzcyIsInRleHRTdGF0dXMiLCJqcVhIUiIsIm1zZyIsImNsb3NlU2Vzc2lvbiIsInNuYWNrYmFyIiwiZXJyb3IiLCJlcnJvclRocm93biIsIiQiLCJhamF4IiwiY29udGVudCIsImJ1dHRvblRleHQiLCJidXR0b25DYWxsYmFjayIsImJ1dHRvblR5cGUiLCJzbmFja2JhcktpbGwiLCJzZXRUaW1lb3V0Iiwia2lsbFNuYWNrYmFyIiwiY2xlYXJUaW1lb3V0IiwiYnV0dG9uIiwiYXBwZW5kIiwib24iLCJhZGRDbGFzcyIsImNzcyIsImJvdHRvbSIsIm9mZnNldCIsInNuYWNrYmFyQ291bnQiLCJvdXRlckhlaWdodCIsImVsZW0iLCJyZW1vdmVDbGFzcyIsIm9mZiIsInJlbW92ZSIsImhpZGVBbGxNb2RhbHMiLCJoYXNDbGFzcyIsIm1vZGFsIiwicmFuZG9tUGFzc3dvcmQiLCJsZW5ndGgiLCJzYWZlQWxwaGFiZXQiLCJzdHJpbmciLCJpIiwiYWxwaGFiZXQiLCJzcGVjaWFsQWxwaGFiZXQiLCJjaGFyQXQiLCJtYXgiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21OdW1iZXIiLCJsb2FkUGFnZSIsInBhZ2UiLCJjYWxsYmFjayIsInB1c2hIaXN0b3J5Iiwic3dpdGNoaW5nUGFnZSIsImN1cnJlbnRQYWdlIiwibmV3UGFnZSIsInNwaW5uZXIiLCJzY29wZSIsImN1cnJlbnRTY29wZSIsImNoYW5nZVBhZ2VTY29wZSIsImVhY2giLCJlbGVtZW50Iiwic2hvdyIsImF0dHIiLCJpbmRleCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJvbGRQYWdlIiwiZmFkZU91dCIsInJvdyIsImNhbGxiYWNrRG9uZSIsImNvbnRlbnRBcmNoaXZlZFBhc3N3b3JkIiwiY29udGVudFBhc3N3b3JkcyIsIml0ZW0iLCJ0YWJsZUFyY2hpdmVkQm9keSIsImRlc2NyaXB0aW9uIiwic2FmZSIsInVzZXJuYW1lIiwidGFibGVQYXNzd29yZHNCb2R5IiwicGFzc3dvcmRfaWQiLCJhcmNoaXZlZCIsImRhdGVfYXJjaGl2ZWQiLCJwcmV0dHkiLCJ0YWJsZUJvZHkiLCJmZXRjaElQTG9nIiwiaHRtbCIsInNldE9wdGlvbiIsInByZXZpb3VzVmFsdWUiLCJvcHRpb24iLCJmZXRjaFBhc3N3b3JkcyIsImpzb25EYXRhIiwiaXAiLCJ1c2VyX2FnZW50IiwiZGF0ZSIsImZldGNoU3RhdHVzIiwidHdvRmFjdG9yRW5hYmxlQnV0dG9uIiwidHdvRmFjdG9yRGlzYWJsZUJ1dHRvbiIsInR3b0ZhY3RvclN0YXR1cyIsInBhc3N3b3JkQ2hhbmdlRm9ybSIsInBhc3N3b3JkQ2hhbmdlRGlzYWJsZWRBbGVydCIsImxhdGVzdFN0YXR1cyIsInR3b19mYWN0b3IiLCJlbmFibGVkIiwiaGlkZSIsInJlZnJlc2giLCJkb0xvZ291dCIsInJlcGxhY2VTdGF0ZSIsInNob3dDb25uZWN0aW9uRXJyb3JNb2RhbCIsImFyY2hpdmVkUGFzc3dvcmRUYWJsZSIsImlucHV0cyIsIndhdmVzIiwidmFsIiwiY2hhbmdlIiwibWUiLCJ0aGlzIiwidGFyZ2V0IiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJuZXh0IiwiZmluZCIsInRyaWdnZXIiLCJ0YXJnZXRGb3JtIiwiZGVsYXkiLCJzdWJtaXQiLCJxdWVyeSIsImNvbnNvbGUiLCJsb2ciLCJjaGlsZHJlbiIsInVzZXJOYW1lIiwidmlzaWJsZSIsInRleHQiLCJpbmRleE9mIiwibGFzdEhlaWdodCIsIm5hdmJhciIsIndpbmRvdyIsInNjcm9sbCIsInNjcm9sbFRvcCIsImZpcnN0SGVpZ2h0IiwidHJhbnNmb3JtIiwiZHJvcGRvd24iLCJmaXJzdCIsImZvY3VzIiwiZG9jdW1lbnQiLCJmYWRlX29uX2ZvY3VzX2xvc3MiLCJzaGlmdEtleSIsImxvY2F0aW9uIiwiYmx1ciIsImNvbnRleHRNZW51Iiwia2V5Q29kZSIsInkiLCJlbGVtZW50VW5kZXJNb3VzZSIsInRhcmdldFBhZ2UiLCJlbGVtZW50RnJvbVBvaW50IiwieCIsInBhcmVudHMiLCJpcyIsIm9yaWdpbmFsRXZlbnQiLCJ3aXRoUGFzcyIsInN0YXRlIiwicHJvY2Vzc0RhdGEiLCJGb3JtRGF0YSIsImNoZWNrZWQiLCJmaWxlcyIsImZpbGUiLCJ0eXBlIiwiY2FjaGUiLCJjb250ZW50VHlwZSIsIm1vZGFsX2NvbnRlbnQiLCJidG4iLCJzZXJpYWxpemUiLCJwYXJlbnQiLCJyZXNldCIsIm5vdCIsImdyZWNhcHRjaGEiLCJzdWJtaXRCdG4iLCJwYXNzd29yZElkIiwidGltZW91dFBhc3N3b3JkIiwicGFzc3dvcmRUYWJsZSIsInNwaW5uZXJTVkciLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXNzd29yZCIsInBhc3N3b3JkT2JqZWN0IiwidGltZUxlZnQiLCJ0aW1lTGVmdERpc3BsYXkiLCJyYXciLCJ0aW1lciIsInRpbWVySWQiLCJzZXRJbnRlcnZhbCIsImZpbHRlciIsInRhYiIsInByaXZhdGVLZXkiLCJjbGVhckludGVydmFsIiwicXJDb2RlVXJsIiwiYW5jaG9yIiwiaHJlZiIsInN1YnN0cmluZyIsImdldEluaXRpYWxQYWdlIiwibG9nZ2VkX2luIiwicmVnaXN0ZXJQYWdlTGlzdGVuZXJzIiwidmFsdWUiXSwibWFwcGluZ3MiOiJhQWlCQSxJQUFNQSxNQUFTLFdBZ0JkLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0MsT0FBS0gsR0FHQUUsSUFBTEEsRUFBS0EsV0FDSkEsRUFBQUEsdUVBS0lDLElBQUxBLE1BR0FBLEVBQVFDLElBQU0sYUFDZEQsRUFBUUUsT0FBUyxPQUNqQkYsRUFBUUgsS0FBT0EsRUFDZkcsRUFBUUcsUUFBVSxTQUFVTixFQUFNTyxFQUFZQyxHQUM3QyxJQUFLUixFQUFLTSxRQUNULE9BQVFOLEVBQUtTLEtBQ1osSUFBSyxvQkFFSixZQURBQyxJ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QixHQUVmQSxFQUFBQSxLQUpGdkgsRUFBQSxFQUFBMEosRUFNQy9FLHlOQXc5QkQsT0FydUJENUYsRUFBQSxXQUNDQSxFQWpJQyxXQUdBLElBQU0wTCxFQUFTaEQsU0FBU2lELEtBQUtDLFVBQVVsRCxTQUFTaUQsS0FBSy9ELFFBQVEsTUFEOUQsTUFBMEIsU0FBMUI4RCxFQUFTRyxVQUFBQSxFQUFULElBQTBCSCxFQUFBL0osT0FBQSxFQUNuQitKLEVBQVNoRCxVQUFTaUQsR0FFdkI3SSxFQTRIWStJLEdBQ2IvSSxFQUFBQSxXQUNBd0MsRUFBWXdHLFdBQVksZUFBQTVJLEVBQ040SSxVQUFibEcsR0FBMkMsYUFBakIxQyxJQUM3QkosRUFBSUEsaUJBSUpsRCxFQUFBQSxXQUFBQSxjQUFBQSxHQUNBQSxJQUdBNkQsRUFBQUEsV0FEREEsUUFBQXlDLGNBQUF4RCxLQUFBSSxFQUFBRyxNQUFBQyxHQUFBLFFBQUEsT0FBQUosS0FHQWlKLElBSUN6RyxZQUFBQSxXQUNDQSxFQUFBLFdBRUMxRixFQUFBQSxXQUFBQSxjQUFBQSxHQUNBQSxPQXBCSixVQW11QkFrRixVQUFXLFNBQVVFLEVBQVFnSCxHQUM1QixJQUFNakgsRUFBZ0IxRixFQUFRMkYsR0FFOUIsT0FEQTNGLEVBQVEyRixHQUFVZ0gsRUFDWCxzQkFBd0JqSCxJQXQrQm5CIiwiZmlsZSI6InBhc3N5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBQQVNTWSAyLngueFxuICogQ29weXJpZ2h0IDIwMTcgU2VmYSBFeWVvZ2x1XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgcGFzc3kgPSAoZnVuY3Rpb24gKCkge1xuXHQvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXHQvL0dMT0JBTCBWQVJTXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cdGxldCBjdXJyZW50UGFnZSA9IFwibG9naW5cIixcblx0XHRjdXJyZW50U2NvcGUgPSBcImxvZ2dlZF9vdXRcIixcblx0XHRzd2l0Y2hpbmdQYWdlID0gZmFsc2UsXG5cdFx0b3B0aW9ucyA9IHtcblx0XHRcdGZhZGVfb25fZm9jdXNfbG9zczogdHJ1ZVxuXHRcdH0sXG5cdFx0bGF0ZXN0U3RhdHVzID0gbnVsbCxcblx0XHRzbmFja2JhckNvdW50ID0gMCxcblx0XHRzcGlubmVyU1ZHID0gJzxzdmcgY2xhc3M9XCJzcGlubmVyXCIgd2lkdGg9XCIyMHB4XCIgaGVpZ2h0PVwiMjBweFwiIHZpZXdCb3g9XCIwIDAgNjYgNjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGNpcmNsZSBjbGFzcz1cInBhdGhcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjZcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgY3g9XCIzM1wiIGN5PVwiMzNcIiByPVwiMzBcIj48L2NpcmNsZT48L3N2Zz4nO1xuXG5cdC8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cdC8vR0xPQkFMIE1FVEhPRFNcblx0Ly8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuXHRmdW5jdGlvbiByZXF1ZXN0KGRhdGEsIG9uU3VjY2Vzcywgb25GYWlsdXJlLCBvcHRpb25zKSB7XG5cdFx0aWYgKCFkYXRhKVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cblx0XHRpZiAoIW9uRmFpbHVyZSkge1xuXHRcdFx0b25GYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghb3B0aW9ucylcblx0XHRcdG9wdGlvbnMgPSB7fTtcblxuXHRcdG9wdGlvbnMudXJsID0gXCJhY3Rpb24ucGhwXCI7XG5cdFx0b3B0aW9ucy5tZXRob2QgPSBcIlBPU1RcIjtcblx0XHRvcHRpb25zLmRhdGEgPSBkYXRhO1xuXHRcdG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xuXHRcdFx0aWYgKCFkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0c3dpdGNoIChkYXRhLm1zZykge1xuXHRcdFx0XHRcdGNhc2UgXCJub3RfYXV0aGVudGljYXRlZFwiOlxuXHRcdFx0XHRcdFx0Y2xvc2VTZXNzaW9uKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0XHRjYXNlIFwiZGF0YWJhc2VfZXJyb3JcIjpcblx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIGRhdGFiYXNlLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b25TdWNjZXNzKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKTtcblx0XHR9O1xuXHRcdG9wdGlvbnMuZXJyb3IgPSBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG5cdFx0XHRvbkZhaWx1cmUoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcblx0XHR9O1xuXHRcdHJldHVybiAkLmFqYXgob3B0aW9ucyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzbmFja2Jhcihjb250ZW50LCBidXR0b25UZXh0LCBidXR0b25DYWxsYmFjaywgYnV0dG9uVHlwZSkge1xuXHRcdGNvbnN0IHNuYWNrYmFyID0gJCgnPGRpdiBjbGFzcz1cInNuYWNrYmFyXCI+PC9kaXY+Jyk7XG5cblx0XHRpZiAoIWJ1dHRvblRleHQpIHtcblx0XHRcdGJ1dHRvblRleHQgPSBcIkRpc21pc3NcIjtcblx0XHR9XG5cblx0XHRjb25zdCBzbmFja2JhcktpbGwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdGtpbGxTbmFja2JhcihzbmFja2Jhcik7XG5cdFx0fSwgNTAwMCk7XG5cblx0XHRpZiAoIWJ1dHRvbkNhbGxiYWNrKSB7XG5cdFx0XHRidXR0b25DYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHNuYWNrYmFyS2lsbCk7XG5cdFx0XHRcdGtpbGxTbmFja2JhcihzbmFja2Jhcik7XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRpZiAoIWJ1dHRvblR5cGUpIHtcblx0XHRcdGJ1dHRvblR5cGUgPSBcInByaW1hcnlcIjtcblx0XHR9XG5cblx0XHRjb25zdCBidXR0b24gPSAkKCc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi0nICsgYnV0dG9uVHlwZSArICcgYnRuLWZsYXRcIj4nICsgYnV0dG9uVGV4dCArICc8L2J1dHRvbj4nKTtcblx0XHRzbmFja2Jhci5hcHBlbmQoJzxzcGFuIGNsYXNzPVwic25hY2tiYXItdGV4dFwiPicgKyBjb250ZW50ICsgJzwvc3Bhbj4nKTtcblx0XHRzbmFja2Jhci5hcHBlbmQoYnV0dG9uKTtcblxuXHRcdGJ1dHRvbi5vbihcImNsaWNrXCIsIGJ1dHRvbkNhbGxiYWNrKTtcblxuXHRcdCQoXCJib2R5XCIpLmFwcGVuZChzbmFja2Jhcik7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRzbmFja2Jhci5hZGRDbGFzcyhcInNuYWNrYmFyLXNob3dcIik7XG5cdFx0XHRzbmFja2Jhci5jc3Moe1wiYm90dG9tXCI6IFwiLVwiICsgc25hY2tiYXIub3V0ZXJIZWlnaHQoKSArIFwicHhcIn0pO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNvbnN0IG9mZnNldCA9IHNuYWNrYmFyQ291bnQrKyAqIChzbmFja2Jhci5vdXRlckhlaWdodCgpICsgMTApICsgMjA7XG5cdFx0XHRcdHNuYWNrYmFyLmNzcyh7XCJib3R0b21cIjogb2Zmc2V0ICsgXCJweFwifSk7XG5cdFx0XHR9LCAxKTtcblx0XHR9LCAxKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGtpbGxTbmFja2JhcihlbGVtKSB7XG5cdFx0ZWxlbS5yZW1vdmVDbGFzcyhcInNuYWNrYmFyLXNob3dcIik7XG5cdFx0ZWxlbS5jc3Moe1wiYm90dG9tXCI6IFwiLVwiICsgZWxlbS5vdXRlckhlaWdodCgpICsgXCJweFwifSk7XG5cdFx0ZWxlbS5vbigndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0ZWxlbS5vZmYoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCcpO1xuXHRcdFx0ZWxlbS5yZW1vdmUoKTtcblx0XHRcdHNuYWNrYmFyQ291bnQtLTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhpZGVBbGxNb2RhbHMoKSB7XG5cdFx0aWYgKCQoXCJib2R5XCIpLmhhc0NsYXNzKFwibW9kYWwtb3BlblwiKSkge1xuXHRcdFx0JCgnLm1vZGFsLmZhZGUuaW4nKS5tb2RhbCgnaGlkZScpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHJhbmRvbVBhc3N3b3JkKGxlbmd0aCkge1xuXHRcdGNvbnN0IHNhZmVBbHBoYWJldCA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODlcIixcblx0XHRcdHNwZWNpYWxBbHBoYWJldCA9IFwiQCMkJV8tXCI7XG5cblx0XHRsZXQgc3RyaW5nID0gXCJcIjtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGFscGhhYmV0ID0gKGkgPT09IDAgfHwgaSA9PT0gbGVuZ3RoKSA/IHNhZmVBbHBoYWJldCA6IHNhZmVBbHBoYWJldCArIHNwZWNpYWxBbHBoYWJldDsgLy8gZmlyc3QgYW5kIGxhc3QgbGV0dGVyIGlzIG5vdCBhIHNwZWNpYWwgY2hhclxuXG5cblx0XHRcdHN0cmluZyArPSBhbHBoYWJldC5jaGFyQXQocmFuZG9tTnVtYmVyKGFscGhhYmV0Lmxlbmd0aCkpO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmFuZG9tTnVtYmVyKG1heCA9IDEpIHtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KVxuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0SW5pdGlhbFBhZ2UoKSB7XG5cdFx0Y29uc3QgYW5jaG9yID0gbG9jYXRpb24uaHJlZi5zdWJzdHJpbmcobG9jYXRpb24uaHJlZi5pbmRleE9mKFwiI1wiKSk7XG5cdFx0aWYgKGFuY2hvci5zdWJzdHJpbmcoMCwgNCkgPT09IFwiIyFwPVwiICYmIGFuY2hvci5sZW5ndGggPiAxKSB7XG5cdFx0XHRyZXR1cm4gYW5jaG9yLnN1YnN0cmluZyg0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGN1cnJlbnRQYWdlO1xuXHR9XG5cblx0ZnVuY3Rpb24gbG9hZFBhZ2UocGFnZSwgY2FsbGJhY2ssIHB1c2hIaXN0b3J5KSB7XG5cdFx0aWYgKHN3aXRjaGluZ1BhZ2UpXG5cdFx0XHRyZXR1cm47XG5cdFx0c3dpdGNoaW5nUGFnZSA9IHRydWU7XG5cdFx0Y29uc3Qgb2xkUGFnZSA9ICQoXCIjcGFnZV9cIiArIGN1cnJlbnRQYWdlKSwgbmV3UGFnZSA9ICQoXCIjcGFnZV9cIiArIHBhZ2UpLCBzcGlubmVyID0gJChcIi5sb2FkLXNwaW5uZXJcIik7XG5cdFx0Y3VycmVudFBhZ2UgPSBwYWdlO1xuXHRcdGNoYW5nZVBhZ2VTY29wZShuZXdQYWdlLmF0dHIoXCJkYXRhLWFwcGx5LXBhZ2Utc2NvcGVcIikpO1xuXHRcdGhpZGVBbGxNb2RhbHMoKTtcblxuXHRcdHNwaW5uZXIuYWRkQ2xhc3MoXCJzaG93blwiKTtcblxuXHRcdCQoXCIqW2RhdGEtcGFnZS1oaWdobGlnaHRdXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG5cdFx0XHRjb25zdCBlbGVtID0gJChlbGVtZW50KTtcblx0XHRcdGlmIChlbGVtLmF0dHIoXCJkYXRhLXBhZ2UtaGlnaGxpZ2h0XCIpICE9PSBwYWdlKSB7XG5cdFx0XHRcdGVsZW0ucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCBzaG93ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0JChcIipbZGF0YS1wYWdlLWhpZ2hsaWdodF1cIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcblx0XHRcdFx0Y29uc3QgZWxlbSA9ICQoZWxlbWVudCk7XG5cdFx0XHRcdGlmIChlbGVtLmF0dHIoXCJkYXRhLXBhZ2UtaGlnaGxpZ2h0XCIpID09PSBwYWdlKSB7XG5cdFx0XHRcdFx0ZWxlbS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAocHVzaEhpc3RvcnkgIT09IGZhbHNlKVxuXHRcdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSh7XCJwYWdlXCI6IGN1cnJlbnRQYWdlLCBcInNjb3BlXCI6IGN1cnJlbnRTY29wZX0sIFwiUEFTU1lcIiwgXCIjIXA9XCIgKyBjdXJyZW50UGFnZSk7XG5cdFx0XHRzcGlubmVyLnJlbW92ZUNsYXNzKFwic2hvd25cIik7XG5cdFx0XHRuZXdQYWdlLmZhZGVJbigzMDApO1xuXHRcdFx0c3dpdGNoaW5nUGFnZSA9IGZhbHNlO1xuXHRcdFx0aWYgKGNhbGxiYWNrKVxuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdH07XG5cblx0XHRvbGRQYWdlLmZhZGVPdXQoMzAwLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAocGFnZSA9PT0gXCJwYXNzd29yZF9saXN0XCIgfHwgcGFnZSA9PT0gXCJhcmNoaXZlZF9wYXNzd29yZF9saXN0XCIpIHtcblx0XHRcdFx0ZmV0Y2hQYXNzd29yZHMoc2hvdyk7XG5cdFx0XHR9IGVsc2UgaWYgKHBhZ2UgPT09IFwibG9naW5faGlzdG9yeVwiKSB7XG5cdFx0XHRcdGZldGNoSVBMb2coc2hvdyk7XG5cdFx0XHR9IGVsc2UgaWYgKHBhZ2UgPT09IFwidXNlcl9zZXR0aW5nc1wiKSB7XG5cdFx0XHRcdGZldGNoU3RhdHVzKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoIWxhdGVzdFN0YXR1cykge1xuXHRcdFx0XHRcdFx0Ly8gMmZhIFN0YXR1c1xuXHRcdFx0XHRcdFx0Y29uc3QgdHdvRmFjdG9yRW5hYmxlQnV0dG9uID0gJChcIiNidG4yZmFTZXR1cE1vZGFsVG9nZ2xlXCIpLFxuXHRcdFx0XHRcdFx0XHR0d29GYWN0b3JEaXNhYmxlQnV0dG9uID0gJChcIiNidG4yZmFEaXNhYmxlTW9kYWxUb2dnbGVcIiksXG5cdFx0XHRcdFx0XHRcdHR3b0ZhY3RvclN0YXR1cyA9ICQoXCIjdGV4dF8yZmFfc3RhdHVzXCIpLFxuXHRcdFx0XHRcdFx0XHRwYXNzd29yZENoYW5nZUZvcm0gPSAkKFwiI3BhZ2VfdXNlcl9zZXR0aW5nc19mb3JtX2NoYW5nZV9wYXNzd29yZFwiKSxcblx0XHRcdFx0XHRcdFx0cGFzc3dvcmRDaGFuZ2VEaXNhYmxlZEFsZXJ0ID0gJChcIiNwYWdlX3VzZXJfc2V0dGluZ3NfYWxlcnRfY2hhbmdlX3Bhc3N3b3JkX2Rpc2FibGVkXCIpO1xuXG5cdFx0XHRcdFx0XHRpZiAobGF0ZXN0U3RhdHVzLnR3b19mYWN0b3IuZW5hYmxlZCkge1xuXHRcdFx0XHRcdFx0XHR0d29GYWN0b3JTdGF0dXMuaHRtbChcIkVuYWJsZWRcIik7XG5cdFx0XHRcdFx0XHRcdHR3b0ZhY3RvclN0YXR1cy5yZW1vdmVDbGFzcyhcInRleHQtZGFuZ2VyXCIpO1xuXHRcdFx0XHRcdFx0XHR0d29GYWN0b3JTdGF0dXMuYWRkQ2xhc3MoXCJ0ZXh0LXN1Y2Nlc3NcIik7XG5cblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yRW5hYmxlQnV0dG9uLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yRW5hYmxlQnV0dG9uLmF0dHIoXCJkaXNhYmxlZFwiLCBcIlwiKTtcblxuXHRcdFx0XHRcdFx0XHR0d29GYWN0b3JEaXNhYmxlQnV0dG9uLnNob3coKTtcblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yRGlzYWJsZUJ1dHRvbi5hdHRyKFwiZGlzYWJsZWRcIiwgbnVsbCk7XG5cblx0XHRcdFx0XHRcdFx0cGFzc3dvcmRDaGFuZ2VGb3JtLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0cGFzc3dvcmRDaGFuZ2VEaXNhYmxlZEFsZXJ0LnNob3coKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHR3b0ZhY3RvclN0YXR1cy5odG1sKFwiRGlzYWJsZWRcIik7XG5cdFx0XHRcdFx0XHRcdHR3b0ZhY3RvclN0YXR1cy5yZW1vdmVDbGFzcyhcInRleHQtc3VjY2Vzc1wiKTtcblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yU3RhdHVzLmFkZENsYXNzKFwidGV4dC1kYW5nZXJcIik7XG5cblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yRW5hYmxlQnV0dG9uLnNob3coKTtcblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yRW5hYmxlQnV0dG9uLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblxuXHRcdFx0XHRcdFx0XHR0d29GYWN0b3JEaXNhYmxlQnV0dG9uLmhpZGUoKTtcblx0XHRcdFx0XHRcdFx0dHdvRmFjdG9yRGlzYWJsZUJ1dHRvbi5hdHRyKFwiZGlzYWJsZWRcIiwgXCJcIik7XG5cblx0XHRcdFx0XHRcdFx0cGFzc3dvcmRDaGFuZ2VGb3JtLnNob3coKTtcblx0XHRcdFx0XHRcdFx0cGFzc3dvcmRDaGFuZ2VEaXNhYmxlZEFsZXJ0LmhpZGUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2hvdygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNob3coKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlZnJlc2goY2FsbGJhY2spIHtcblx0XHRsb2FkUGFnZShjdXJyZW50UGFnZSwgY2FsbGJhY2ssIGZhbHNlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZVBhZ2VTY29wZShzY29wZSkge1xuXHRcdGN1cnJlbnRTY29wZSA9IHNjb3BlO1xuXHRcdCQoXCIqW2RhdGEtcGFnZS1zY29wZV1cIikuZWFjaChmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuXHRcdFx0Y29uc3QgZWxlbSA9ICQoZWxlbWVudCk7XG5cdFx0XHRpZiAoZWxlbS5kYXRhKFwicGFnZS1zY29wZVwiKSAhPT0gc2NvcGUpIHtcblx0XHRcdFx0ZWxlbS5oaWRlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtLnNob3coKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRvTG9nb3V0KCkge1xuXHRcdHJlcXVlc3QoXCJhPXVzZXIvbG9nb3V0XCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHNuYWNrYmFyKFwiWW91IGhhdmUgYmVlbiBsb2dnZWQgb3V0IVwiKTtcblx0XHRcdGxvYWRQYWdlKFwibG9naW5cIik7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjbG9zZVNlc3Npb24oKSB7XG5cdFx0c25hY2tiYXIoXCJZb3VyIHNlc3Npb24gaGFzIGV4cGlyZWQhXCIpO1xuXHRcdHN3aXRjaGluZ1BhZ2UgPSBmYWxzZTtcblx0XHRsb2FkUGFnZShcImxvZ2luXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGhpc3RvcnkucmVwbGFjZVN0YXRlKHtcInBhZ2VcIjogY3VycmVudFBhZ2UsIFwic2NvcGVcIjogY3VycmVudFNjb3BlfSwgXCJQQVNTWVwiLCBcIiMhcD1cIiArIGN1cnJlbnRQYWdlKTtcblx0XHR9LCBmYWxzZSk7XG5cdH1cblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vRE9DVU1FTlQgTE9BRFxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblx0JChmdW5jdGlvbiAoKSB7XG5cdFx0Y3VycmVudFBhZ2UgPSBnZXRJbml0aWFsUGFnZSgpO1xuXHRcdGZldGNoU3RhdHVzKGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmIChsYXRlc3RTdGF0dXMubG9nZ2VkX2luICYmIGN1cnJlbnRTY29wZSA9PT0gXCJsb2dnZWRfb3V0XCIpIHtcblx0XHRcdFx0aWYgKGN1cnJlbnRQYWdlID09PSBcImxvZ2luXCIgfHwgY3VycmVudFBhZ2UgPT09IFwicmVnaXN0ZXJcIilcblx0XHRcdFx0XHRjdXJyZW50UGFnZSA9IFwicGFzc3dvcmRfbGlzdFwiOyAvLyBsb2FkIHBhc3N3b3JkIGxpc3QgaWYgYWxyZWFkeSBhdXRoZW50aWNhdGVkXG5cblx0XHRcdH0gZWxzZSBpZiAoIWxhdGVzdFN0YXR1cy5sb2dnZWRfaW4gJiYgY3VycmVudFNjb3BlID09PSBcImxvZ2dlZF9pblwiKSB7XG5cdFx0XHRcdGNsb3NlU2Vzc2lvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZWZyZXNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aGlzdG9yeS5yZXBsYWNlU3RhdGUoe1wicGFnZVwiOiBjdXJyZW50UGFnZSwgXCJzY29wZVwiOiBjdXJyZW50U2NvcGV9LCBcIlBBU1NZXCIsIFwiIyFwPVwiICsgY3VycmVudFBhZ2UpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZWdpc3RlclBhZ2VMaXN0ZW5lcnMoKTtcblxuXHRcdFx0Ly8gU3RhcnQgc3RhdHVzIHRpbWVyLlxuXHRcdFx0c2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRmZXRjaFN0YXR1cyhmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly8gU2Vzc2lvbiBleHBpcmVkXG5cdFx0XHRcdFx0aWYgKCFsYXRlc3RTdGF0dXMubG9nZ2VkX2luICYmIGN1cnJlbnRTY29wZSA9PT0gXCJsb2dnZWRfaW5cIikge1xuXHRcdFx0XHRcdFx0Y2xvc2VTZXNzaW9uKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sIDIwMDApO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRmdW5jdGlvbiBmZXRjaFN0YXR1cyhjYWxsYmFjaykge1xuXHRcdHJlcXVlc3QoXCJhPXN0YXR1c1wiLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0aWYgKCFkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0c2hvd0Nvbm5lY3Rpb25FcnJvck1vZGFsKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoaWRlQ29ubmVjdGlvbkVycm9yTW9kYWwoKTtcblx0XHRcdH1cblx0XHRcdGxhdGVzdFN0YXR1cyA9IGRhdGEuZGF0YTtcblx0XHRcdGlmIChjYWxsYmFjaylcblx0XHRcdFx0Y2FsbGJhY2soZGF0YSk7XG5cdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0c2hvd0Nvbm5lY3Rpb25FcnJvck1vZGFsKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzaG93Q29ubmVjdGlvbkVycm9yTW9kYWwoKSB7XG5cdFx0JChcIiNtb2RhbF9jb25uZWN0aW9uX2xvc3RcIikubW9kYWwoXCJzaG93XCIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGlkZUNvbm5lY3Rpb25FcnJvck1vZGFsKCkge1xuXHRcdCQoXCIjbW9kYWxfY29ubmVjdGlvbl9sb3N0XCIpLm1vZGFsKFwiaGlkZVwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyUGFnZUxpc3RlbmVycygpIHtcblx0XHRsZXQgcGFzc3dvcmRUYWJsZSA9ICQoJyN0Ym9keVBhc3N3b3JkcycpLFxuXHRcdFx0YXJjaGl2ZWRQYXNzd29yZFRhYmxlID0gJCgnI3Rib2R5QXJjaGl2ZWRQYXNzd29yZHMnKSxcblx0XHRcdGlucHV0cyA9ICQoXCIudGV4dCA+IGlucHV0XCIpLFxuXHRcdFx0Y29udGV4dE1lbnUgPSAkKFwiI2Ryb3Bkb3duQ29udGV4dE1lbnVcIik7XG5cblx0XHQkLndhdmVzKFwiLm5hdiA+IGxpID4gYVwiKTtcblx0XHQkLndhdmVzKFwiLmJ0bjpub3QoW2Rpc2FibGVkXSlcIik7XG5cblx0XHRpbnB1dHMuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcblx0XHRcdGNvbnN0IGVsZW0gPSAkKGVsZW1lbnQpO1xuXHRcdFx0aWYgKGVsZW0udmFsKCkubGVuZ3RoID4gMClcblx0XHRcdFx0ZWxlbS5hZGRDbGFzcyhcImhhc3RleHRcIik7XG5cdFx0fSk7XG5cblx0XHRpbnB1dHMuY2hhbmdlKGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvbnN0IG1lID0gJCh0aGlzKTtcblx0XHRcdGlmIChtZS52YWwoKS5sZW5ndGggPiAwKVxuXHRcdFx0XHRtZS5hZGRDbGFzcyhcImhhc3RleHRcIik7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdG1lLnJlbW92ZUNsYXNzKFwiaGFzdGV4dFwiKTtcblx0XHR9KTtcblxuXHRcdCQoXCIqW2RhdGEtcmFuZG9tLXZhbHVlXVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBtZSA9ICQodGhpcyksXG5cdFx0XHRcdHRhcmdldCA9ICQobWUuZGF0YShcInJhbmRvbS12YWx1ZVwiKSk7XG5cdFx0XHR0YXJnZXQudmFsKHJhbmRvbVBhc3N3b3JkKDIwKSk7XG5cdFx0XHR0YXJnZXQuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdFx0dGFyZ2V0LmNoYW5nZSgpO1xuXHRcdH0pO1xuXG5cdFx0JChcIipbZGF0YS1uZXh0PSd0YWInXVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpO1xuXHRcdFx0JChtZS5kYXRhKFwidGFyZ2V0XCIpICsgJyA+IC5hY3RpdmUnKS5uZXh0KCdsaScpLmZpbmQoJ2EnKS50cmlnZ2VyKCdjbGljaycpO1xuXHRcdH0pO1xuXG5cdFx0JChcIipbZGF0YS1oaWRlXVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBtZSA9ICQodGhpcyk7XG5cdFx0XHQkKG1lLmRhdGEoXCJoaWRlXCIpKS5oaWRlKCk7XG5cdFx0fSk7XG5cblx0XHQkKFwiKltkYXRhLXNob3ddXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvbnN0IG1lID0gJCh0aGlzKTtcblx0XHRcdCQobWUuZGF0YShcInNob3dcIikpLnNob3coKTtcblx0XHR9KTtcblxuXHRcdCQoXCIqW2RhdGEtc3VibWl0XVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBtZSA9ICQodGhpcyksXG5cdFx0XHRcdHRhcmdldEZvcm0gPSAkKG1lLmRhdGEoXCJzdWJtaXRcIikpO1xuXHRcdFx0dGFyZ2V0Rm9ybS5kYXRhKFwic3VibWl0LWJ0blwiLCBtZSk7XG5cdFx0XHR0YXJnZXRGb3JtLnN1Ym1pdCgpO1xuXHRcdH0pO1xuXG5cdFx0bGV0IGRlbGF5ID0gMTAwO1xuXHRcdCQoXCIuZHJvcGRvd24tbWVudVwiKS5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcblx0XHRcdGNvbnN0IGVsZW0gPSAkKGVsZW1lbnQpO1xuXHRcdFx0ZWxlbS5jc3Moe1wiYW5pbWF0aW9uLWRlbGF5XCI6IGRlbGF5ICsgXCJtc1wifSk7XG5cdFx0XHRkZWxheSArPSAyNTtcblx0XHR9KTtcblxuXHRcdCQoXCJpbnB1dFtkYXRhLXNlYXJjaC1pbl1cIikub24oXCJrZXl1cFwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcImNoYW5nZVwiKTtcblx0XHRcdGxldCBtZSA9ICQodGhpcyksXG5cdFx0XHRcdHF1ZXJ5ID0gbWUudmFsKCksXG5cdFx0XHRcdHRhcmdldCA9ICQobWUuYXR0cihcImRhdGEtc2VhcmNoLWluXCIpKTtcblxuXHRcdFx0aWYgKHRhcmdldC5pcyhcInRhYmxlXCIpKVxuXHRcdFx0XHR0YXJnZXQgPSB0YXJnZXQuZmluZChcInRib2R5XCIpO1xuXG5cblx0XHRcdHRhcmdldC5jaGlsZHJlbihcInRyXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG5cdFx0XHRcdGNvbnN0IGVsZW0gPSAkKGVsZW1lbnQpO1xuXG5cdFx0XHRcdGNvbnN0IHZpc2libGUgPSBlbGVtLmF0dHIoXCJkYXRhLXZpc2libGVcIikgPT09IFwidHJ1ZVwiO1xuXHRcdFx0XHRjb25zdCB1c2VyTmFtZSA9IGVsZW0uY2hpbGRyZW4oMCkudGV4dCgpO1xuXHRcdFx0XHRjb25zdCBkZXNjcmlwdGlvbiA9IGVsZW0uY2hpbGRyZW4oMikudGV4dCgpO1xuXG5cdFx0XHRcdGlmICgodXNlck5hbWUgIT09IFwiTm9uZVwiICYmIHVzZXJOYW1lLmluZGV4T2YocXVlcnkpICE9PSAtMSkgfHwgKGRlc2NyaXB0aW9uICE9PSBcIk5vbmVcIiAmJiBkZXNjcmlwdGlvbi5pbmRleE9mKHF1ZXJ5KSAhPT0gLTEpKSB7XG5cdFx0XHRcdFx0aWYgKCF2aXNpYmxlKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNob3coKTtcblx0XHRcdFx0XHRcdGVsZW0uYXR0cihcImRhdGEtdmlzaWJsZVwiLCBcInRydWVcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh2aXNpYmxlKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmhpZGUoKTtcblx0XHRcdFx0XHRcdGVsZW0uYXR0cihcImRhdGEtdmlzaWJsZVwiLCBcImZhbHNlXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRsZXQgbGFzdEhlaWdodCA9IDA7XG5cdFx0Y29uc3QgbmF2YmFyID0gJChcIi5uYXZiYXItZml4ZWQtdG9wXCIpO1xuXHRcdCQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHRcdFx0JChcIi5kcm9wZG93bi5vcGVuXCIpLmZpbmQoXCIuZHJvcGRvd24tdG9nZ2xlXCIpLmRyb3Bkb3duKFwidG9nZ2xlXCIpO1xuXHRcdFx0JChcIi5jb250ZXh0bWVudS5vcGVuXCIpLnJlbW92ZUNsYXNzKFwib3BlblwiKTtcblxuXHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCksXG5cdFx0XHRcdGZpcnN0SGVpZ2h0ID0gbmF2YmFyLmNoaWxkcmVuKCkuZmlyc3QoKS5vdXRlckhlaWdodCgpO1xuXG5cdFx0XHRpZiAoc2Nyb2xsVG9wIDwgZmlyc3RIZWlnaHQpIHtcblx0XHRcdFx0bmF2YmFyLmNzcyh7dHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLVwiICsgc2Nyb2xsVG9wICsgXCJweClcIn0pO1xuXHRcdFx0XHRsYXN0SGVpZ2h0ID0gc2Nyb2xsVG9wO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNjcm9sbFRvcCA+PSBmaXJzdEhlaWdodCkge1xuXHRcdFx0XHRuYXZiYXIuY3NzKHt0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtXCIgKyBmaXJzdEhlaWdodCArIFwicHgpXCJ9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdCQod2luZG93KS5mb2N1cyhmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBjb250ZW50ID0gJChcIi5jb250ZW50XCIpO1xuXHRcdFx0aWYgKCFvcHRpb25zLmZhZGVfb25fZm9jdXNfbG9zcyAmJiAhY29udGVudC5oYXNDbGFzcyhcImNvbnRlbnQtaGlkZGVuXCIpKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjb250ZW50LnJlbW92ZUNsYXNzKFwiY29udGVudC1oaWRkZW5cIik7XG5cdFx0fSkuYmx1cihmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIW9wdGlvbnMuZmFkZV9vbl9mb2N1c19sb3NzKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRpZiAoJCgnaWZyYW1lOmhvdmVyJykubGVuZ3RoID09PSAwKVxuXHRcdFx0XHQkKFwiLmNvbnRlbnRcIikuYWRkQ2xhc3MoXCJjb250ZW50LWhpZGRlblwiKTtcblx0XHR9KTtcblxuXHRcdCQoZG9jdW1lbnQpLm9uKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKChlLndoaWNoIHx8IGUua2V5Q29kZSkgPT09IDExNikge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGlmIChlLnNoaWZ0S2V5KVxuXHRcdFx0XHRcdGxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHJlZnJlc2goKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdCQoZG9jdW1lbnQpLm9uKFwibW91c2V1cFwiLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKGUud2hpY2ggPT09IDEpXG5cdFx0XHRcdGNvbnRleHRNZW51LnJlbW92ZUNsYXNzKFwib3BlblwiKTtcblx0XHR9KTtcblxuXHRcdCQoZG9jdW1lbnQpLm9uKFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGlmIChlLnNoaWZ0S2V5KVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjb25zdCB4ID0gZS5jbGllbnRYLFxuXHRcdFx0XHR5ID0gZS5jbGllbnRZO1xuXHRcdFx0Y29uc3QgZWxlbWVudFVuZGVyTW91c2UgPSAkKGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSkpO1xuXHRcdFx0aWYgKGVsZW1lbnRVbmRlck1vdXNlLmhhc0NsYXNzKFwibm8tY29udGV4dG1lbnVcIikgfHwgZWxlbWVudFVuZGVyTW91c2UucGFyZW50cyhcIi5uby1jb250ZXh0bWVudVwiKS5sZW5ndGggPiAwKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRpZiAoZWxlbWVudFVuZGVyTW91c2UuaXMoXCJpbnB1dFwiKSB8fCBlbGVtZW50VW5kZXJNb3VzZS5pcyhcInRleHRhcmVhXCIpIHx8IGVsZW1lbnRVbmRlck1vdXNlLmlzKFwic2VsZWN0XCIpKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRjb250ZXh0TWVudS5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y29udGV4dE1lbnUuY3NzKHt0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgpXCJ9KTtcblx0XHRcdFx0Y29udGV4dE1lbnUuYWRkQ2xhc3MoXCJvcGVuXCIpO1xuXHRcdFx0fSwgMTApO1xuXHRcdH0pO1xuXG5cdFx0JChcIipbZGF0YS10by1wYWdlXVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpO1xuXHRcdFx0bGV0IHRhcmdldFBhZ2UgPSBtZS5hdHRyKFwiZGF0YS10by1wYWdlXCIpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0aWYgKHRhcmdldFBhZ2UgPT09IFwicmVmcmVzaFwiKVxuXHRcdFx0XHR0YXJnZXRQYWdlID0gY3VycmVudFBhZ2U7XG5cblx0XHRcdGxvYWRQYWdlKHRhcmdldFBhZ2UpO1xuXHRcdH0pO1xuXG5cdFx0JCh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdGNvbnN0IHN0YXRlID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlO1xuXHRcdFx0aWYgKGN1cnJlbnRTY29wZSA9PT0gc3RhdGUuc2NvcGUpXG5cdFx0XHRcdGxvYWRQYWdlKHN0YXRlLnBhZ2UsIG51bGwsIGZhbHNlKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XCJwYWdlXCI6IGN1cnJlbnRQYWdlLCBcInNjb3BlXCI6IGN1cnJlbnRTY29wZX0sIFwiUEFTU1lcIiwgXCIjIXA9XCIgKyBjdXJyZW50UGFnZSk7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEZPUk1TXG5cblx0XHQkKFwiI3BhZ2VfdXNlcl9zZXR0aW5nc19mb3JtX2ltcG9ydFwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Y29uc3QgZWxlbSA9ICQodGhpcyk7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcblx0XHRcdGRhdGEuYXBwZW5kKFwiYVwiLCBcIm1pc2MvaW1wb3J0XCIpO1xuXHRcdFx0Y29uc3Qgd2l0aFBhc3MgPSBlbGVtLmZpbmQoJ2lucHV0W25hbWU9XCJ3aXRoLXBhc3NcIl0nKVswXS5jaGVja2VkO1xuXHRcdFx0aWYgKHdpdGhQYXNzKSB7XG5cdFx0XHRcdGRhdGEuYXBwZW5kKFwid2l0aC1wYXNzXCIsIFwib25cIik7XG5cdFx0XHRcdGRhdGEuYXBwZW5kKFwicGFzc1wiLCBlbGVtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJykudmFsKCkpO1xuXHRcdFx0fVxuXG5cdFx0XHQkLmVhY2goJCgnI2ltcG9ydC1maWxlJylbMF0uZmlsZXMsIGZ1bmN0aW9uIChpLCBmaWxlKSB7XG5cdFx0XHRcdGRhdGEuYXBwZW5kKFwicGFyc2UtZmlsZVwiLCBmaWxlKTtcblx0XHRcdH0pO1xuXHRcdFx0JC5hamF4KHtcblx0XHRcdFx0dXJsOiAnYWN0aW9uLnBocCcsXG5cdFx0XHRcdHR5cGU6ICdQT1NUJyxcblx0XHRcdFx0Y2FjaGU6IGZhbHNlLFxuXHRcdFx0XHRjb250ZW50VHlwZTogZmFsc2UsXG5cdFx0XHRcdHByb2Nlc3NEYXRhOiBmYWxzZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5kYXRhLmltcG9ydGVkID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiTm90aGluZyBoYXMgYmVlbiBpbXBvcnRlZC5cIilcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlIGltcG9ydCB3YXMgc3VjY2Vzc2Z1bC5cIilcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoXG5cdFx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRsb2FkUGFnZShcInBhc3N3b3JkX2xpc3RcIik7XG5cdFx0XHRcdFx0XHRcdH0sIDgwMClcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdCQoXCIjcGFnZV91c2VyX3NldHRpbmdzX2Zvcm1fMmZhX3NldHVwXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29uc3QgbW9kYWxfY29udGVudCA9IG1lLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpOyAvLyBUT0RPOiBNYWtlIHRoaXMgcHJldHRpZXJcblx0XHRcdGNvbnN0IGJ0biA9IG1vZGFsX2NvbnRlbnQuZmluZChcImJ1dHRvblwiKTtcblx0XHRcdGJ0bi5hdHRyKFwiZGlzYWJsZWRcIiwgXCJcIik7XG5cdFx0XHRyZXF1ZXN0KG1lLnNlcmlhbGl6ZSgpLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRidG4uYXR0cihcImRpc2FibGVkXCIsIG51bGwpO1xuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0bWVbMF0ucmVzZXQoKTtcblx0XHRcdFx0XHRtZS5maW5kKFwiaW5wdXQuaGFzdGV4dFwiKS5jaGFuZ2UoKTtcblx0XHRcdFx0XHQkKCcjdGFiXzJmYScpLmZpbmQoJ2E6bGFzdCcpLmNsaWNrKCk7XG5cdFx0XHRcdFx0cmVmcmVzaCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pO1xuXG5cdFx0JChcIiNwYWdlX2xvZ2luX2Zvcm1fbG9naW5cIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRsZXQgbWUgPSAkKHRoaXMpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0bGV0IGRhdGEgPSBtZS5zZXJpYWxpemUoKTtcblx0XHRcdG1lLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcblx0XHRcdG1lLmZpbmQoXCJidXR0b25cIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG5cdFx0XHRyZXF1ZXN0KGRhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGxldCBtb2RhbCA9ICQoXCIjcGFnZV9sb2dpbl9tb2RhbF8yZmFcIiksXG5cdFx0XHRcdFx0cmVzZXQgPSB0cnVlO1xuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0bG9hZFBhZ2UoXCJwYXNzd29yZF9saXN0XCIpO1xuXHRcdFx0XHRcdG1vZGFsLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJcIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3dpdGNoIChkYXRhLm1zZykge1xuXHRcdFx0XHRcdFx0Y2FzZSBcImFscmVhZHlfbG9nZ2VkX2luXCI6XG5cdFx0XHRcdFx0XHRcdGxvYWRQYWdlKFwicGFzc3dvcmRfbGlzdFwiKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiaW52YWxpZF9jcmVkZW50aWFsc1wiOlxuXHRcdFx0XHRcdFx0XHRzbmFja2JhcihcIlRoZSBlbnRlcmVkIGNyZWRlbnRpYWxzIGRvIG5vdCBtYXRjaCBhbnkgYWNjb3VudC5cIik7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcInR3b19mYWN0b3JfbmVlZGVkXCI6XG5cdFx0XHRcdFx0XHRcdG1vZGFsLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgbnVsbCk7XG5cdFx0XHRcdFx0XHRcdG1vZGFsLm1vZGFsKFwic2hvd1wiKTtcblx0XHRcdFx0XHRcdFx0cmVzZXQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiaW52YWxpZF9jb2RlXCI6XG5cdFx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlIGVudGVyZWQgdHdvLWZhY3Rvci1hdXRoZW50aWNhdGlvbiBjb2RlIGlzIGludmFsaWQhXCIpO1xuXHRcdFx0XHRcdFx0XHRtb2RhbC5maW5kKFwiaW5wdXRcIikuYXR0cihcImRpc2FibGVkXCIsIG51bGwpO1xuXHRcdFx0XHRcdFx0XHRyZXNldCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJlc2V0KVxuXHRcdFx0XHRcdG1lWzBdLnJlc2V0KCk7XG5cdFx0XHRcdG1lLmZpbmQoXCJpbnB1dFwiKS5jaGFuZ2UoKTtcblxuXHRcdFx0XHRtZS5maW5kKFwiaW5wdXRcIikubm90KFwiLm1vZGFsIGlucHV0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblx0XHRcdFx0bWUuZmluZChcImJ1dHRvblwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgbnVsbCk7XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci5cIik7XG5cdFx0XHRcdG1lWzBdLnJlc2V0KCk7XG5cdFx0XHRcdG1lLmZpbmQoXCJpbnB1dFwiKS5jaGFuZ2UoKTtcblx0XHRcdFx0bWUuZmluZChcImlucHV0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblx0XHRcdFx0bWUuZmluZChcImJ1dHRvblwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgbnVsbCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdCQoXCIjcGFnZV9yZWdpc3Rlcl9mb3JtX3JlZ2lzdGVyXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpLFxuXHRcdFx0XHRkYXRhID0gbWUuc2VyaWFsaXplKCk7XG5cdFx0XHRtZS5maW5kKFwiaW5wdXRcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG5cdFx0XHRtZS5maW5kKFwiYnV0dG9uXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuXHRcdFx0cmVxdWVzdChkYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0bG9hZFBhZ2UoXCJsb2dpblwiKTtcblx0XHRcdFx0XHRzbmFja2JhcihcIllvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkLiBZb3UgbWF5IGxvZyBpbi5cIilcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzd2l0Y2ggKGRhdGEubXNnKSB7XG5cdFx0XHRcdFx0XHRjYXNlIFwiYWxyZWFkeV9sb2dnZWRfaW5cIjpcblx0XHRcdFx0XHRcdFx0bG9hZFBhZ2UoXCJwYXNzd29yZF9saXN0XCIpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJwYXNzd29yZHNfbm90X21hdGNoaW5nXCI6XG5cdFx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlIGVudGVyZWQgcGFzc3dvcmRzIGRvIG5vdCBtYXRjaC5cIik7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcInJlY2FwdGNoYV9mYWlsXCI6XG5cdFx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiQ2FwdGNoYSBjb3VsZCBub3QgYmUgdmVyaWZpZWQuXCIpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJ1c2VybmFtZV9leGlzdHNcIjpcblx0XHRcdFx0XHRcdFx0c25hY2tiYXIoXCJUaGUgdXNlcm5hbWUgaXMgb2NjdXBpZWQuXCIpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bWVbMF0ucmVzZXQoKTtcblx0XHRcdFx0bWUuZmluZChcImlucHV0XCIpLmNoYW5nZSgpO1xuXHRcdFx0XHRtZS5maW5kKFwiaW5wdXRcIikuYXR0cihcImRpc2FibGVkXCIsIG51bGwpO1xuXHRcdFx0XHRtZS5maW5kKFwiYnV0dG9uXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblxuXHRcdFx0XHRpZiAoIWdyZWNhcHRjaGEpXG5cdFx0XHRcdFx0Z3JlY2FwdGNoYS5yZXNldCgpO1xuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuXCIpO1xuXHRcdFx0XHRtZVswXS5yZXNldCgpO1xuXHRcdFx0XHRtZS5maW5kKFwiaW5wdXRcIikuY2hhbmdlKCk7XG5cdFx0XHRcdG1lLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgbnVsbCk7XG5cdFx0XHRcdG1lLmZpbmQoXCJidXR0b25cIikuYXR0cihcImRpc2FibGVkXCIsIG51bGwpO1xuXG5cdFx0XHRcdGlmICghZ3JlY2FwdGNoYSlcblx0XHRcdFx0XHRncmVjYXB0Y2hhLnJlc2V0KCk7XG5cdFx0XHR9KVxuXHRcdH0pO1xuXG5cdFx0JChcIiNwYWdlX3Bhc3N3b3JkX2xpc3RfZm9ybV9hZGRcIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRjb25zdCBtZSA9ICQodGhpcyksXG5cdFx0XHRcdGJ0biA9IG1lLmZpbmQoXCJidXR0b25cIik7XG5cdFx0XHRidG4uYXR0cihcImRpc2FibGVkXCIsIFwiXCIpO1xuXHRcdFx0cmVxdWVzdChtZS5zZXJpYWxpemUoKSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0YnRuLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblx0XHRcdFx0aWYgKGRhdGEuc3VjY2Vzcykge1xuXHRcdFx0XHRcdG1lWzBdLnJlc2V0KCk7XG5cdFx0XHRcdFx0bWUuZmluZChcImlucHV0Lmhhc3RleHRcIikucmVtb3ZlQ2xhc3MoXCJoYXN0ZXh0XCIpO1xuXHRcdFx0XHRcdHJlZnJlc2goKTtcblx0XHRcdFx0XHRoaWRlQWxsTW9kYWxzKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pO1xuXG5cdFx0JChcIiNwYWdlX3Bhc3N3b3JkX2xpc3RfZm9ybV9lZGl0XCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpLFxuXHRcdFx0XHRidG4gPSBtZS5maW5kKFwiYnV0dG9uXCIpO1xuXHRcdFx0YnRuLmF0dHIoXCJkaXNhYmxlZFwiLCBcIlwiKTtcblx0XHRcdHJlcXVlc3QobWUuc2VyaWFsaXplKCksIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGJ0bi5hdHRyKFwiZGlzYWJsZWRcIiwgbnVsbCk7XG5cdFx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRtZVswXS5yZXNldCgpO1xuXHRcdFx0XHRcdG1lLmZpbmQoXCJpbnB1dFwiKS5jaGFuZ2UoKTtcblx0XHRcdFx0XHRyZWZyZXNoKCk7XG5cdFx0XHRcdFx0aGlkZUFsbE1vZGFscygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0pO1xuXG5cdFx0JChcIiNwYWdlX3VzZXJfc2V0dGluZ3NfZm9ybV9jaGFuZ2VfcGFzc3dvcmRcIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRjb25zdCBtZSA9ICQodGhpcyksXG5cdFx0XHRcdGJ0biA9IG1lLmZpbmQoXCJidXR0b25cIik7XG5cdFx0XHRidG4uYXR0cihcImRpc2FibGVkXCIsIFwiXCIpO1xuXG5cdFx0XHRyZXF1ZXN0KG1lLnNlcmlhbGl6ZSgpLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRidG4uYXR0cihcImRpc2FibGVkXCIsIG51bGwpO1xuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0bWVbMF0ucmVzZXQoKTtcblx0XHRcdFx0XHRtZS5maW5kKFwiaW5wdXRcIikuY2hhbmdlKCk7XG5cdFx0XHRcdFx0ZG9Mb2dvdXQoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZGF0YS5tc2cgPT09IFwiaW52YWxpZF9jcmVkZW50aWFsc1wiKSB7XG5cdFx0XHRcdFx0XHRzbmFja2JhcihcIllvdXIgY3VycmVudCBwYXNzd29yZCBpcyBub3QgY29ycmVjdC5cIilcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEubXNnID09PSBcInBhc3N3b3Jkc19ub3RfbWF0Y2hpbmdcIikge1xuXHRcdFx0XHRcdFx0c25hY2tiYXIoXCJZb3VyIG5ldyBwYXNzd29yZHMgZG8gbm90IG1hdGNoLlwiKVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0JChcIiNwYWdlX3VzZXJfc2V0dGluZ3NfZm9ybV8yZmFfZGlzYWJsZVwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcblx0XHRcdGNvbnN0IG1lID0gJCh0aGlzKSxcblx0XHRcdFx0c3VibWl0QnRuID0gbWUuZGF0YShcInN1Ym1pdC1idG5cIik7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRzdWJtaXRCdG4uYXR0cihcImRpc2FibGVkXCIsIFwiXCIpO1xuXG5cdFx0XHRyZXF1ZXN0KG1lLnNlcmlhbGl6ZSgpLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRzdWJtaXRCdG4uYXR0cihcImRpc2FibGVkXCIsIG51bGwpO1xuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0bWVbMF0ucmVzZXQoKTtcblx0XHRcdFx0XHRtZS5maW5kKFwiaW5wdXRcIikuY2hhbmdlKCk7XG5cdFx0XHRcdFx0c25hY2tiYXIoXCJUd28tZmFjdG9yLWF1dGhlbnRpY2F0aW9uIGhhcyBiZWVuIGRpc2FibGVkIVwiKTtcblx0XHRcdFx0XHRyZWZyZXNoKCk7XG5cdFx0XHRcdFx0aGlkZUFsbE1vZGFscygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChkYXRhLm1zZyA9PT0gXCJpbnZhbGlkX2NvZGVcIikge1xuXHRcdFx0XHRcdFx0c25hY2tiYXIoXCJUaGUgZW50ZXJlZCB0d28tZmFjdG9yLWF1dGhlbnRpY2F0aW9uIGNvZGUgaXMgaW52YWxpZCFcIilcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdCQoXCIjcGFnZV91c2VyX3NldHRpbmdzX2Zvcm1fY2hhbmdlX3VzZXJuYW1lXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpLFxuXHRcdFx0XHRidG4gPSBtZS5maW5kKFwiYnV0dG9uXCIpO1xuXHRcdFx0YnRuLmF0dHIoXCJkaXNhYmxlZFwiLCBcIlwiKTtcblxuXHRcdFx0cmVxdWVzdChtZS5zZXJpYWxpemUoKSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0YnRuLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblx0XHRcdFx0aWYgKGRhdGEuc3VjY2Vzcykge1xuXHRcdFx0XHRcdG1lWzBdLnJlc2V0KCk7XG5cdFx0XHRcdFx0bWUuZmluZChcImlucHV0XCIpLmNoYW5nZSgpO1xuXHRcdFx0XHRcdGRvTG9nb3V0KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGRhdGEubXNnID09PSBcInVzZXJuYW1lX2V4aXN0c1wiKSB7XG5cdFx0XHRcdFx0XHRzbmFja2JhcihcIlRoZSB1c2VybmFtZSBpcyBvY2N1cGllZC5cIilcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEubXNnID09PSBcImludmFsaWRfY3JlZGVudGlhbHNcIikge1xuXHRcdFx0XHRcdFx0c25hY2tiYXIoXCJZb3VyIGN1cnJlbnQgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3QuXCIpXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHQkKFwiI2J0bkxvZ291dFwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZG9Mb2dvdXQoKTtcblx0XHR9KTtcblxuXHRcdC8vUEFTU1dPUkQgQUNUSU9OU1xuXHRcdHBhc3N3b3JkVGFibGUub24oJ2NsaWNrJywgJypbZGF0YS1wYXNzd29yZC1hY3Rpb249XCJzaG93XCJdJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGNvbnN0IG1lID0gJCh0aGlzKSxcblx0XHRcdFx0cGFzc3dvcmRJZCA9IG1lLmRhdGEoXCJwYXNzd29yZC1pZFwiKSxcblx0XHRcdFx0cGFyZW50ID0gbWUucGFyZW50KCk7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRtZS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJcIik7XG5cdFx0XHRtZS5odG1sKHNwaW5uZXJTVkcpO1xuXHRcdFx0cmVxdWVzdChcImE9cGFzc3dvcmQvcXVlcnkmaWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFzc3dvcmRJZCksIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRwYXJlbnQuaHRtbChcIjxzcGFuIGNsYXNzPSdmb3JjZS1zZWxlY3Qgbm8tY29udGV4dG1lbnUnPlwiICsgZGF0YS5kYXRhLnBhc3N3b3JkLnNhZmUgKyBcIjwvc3Bhbj5cIik7XG5cdFx0XHRcdFx0dGltZW91dFBhc3N3b3JkKHBhcmVudCwgcGFzc3dvcmRJZCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWUuaHRtbChcIjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+ZXJyb3I8L2k+XCIpO1xuXHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1lLmh0bWwoXCI8aSBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPmVycm9yPC9pPlwiKTtcblx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHBhc3N3b3JkVGFibGUub24oJ2NsaWNrJywgJypbZGF0YS1wYXNzd29yZC1hY3Rpb249XCJlZGl0XCJdJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGNvbnN0IG1lID0gJCh0aGlzKSxcblx0XHRcdFx0cGFzc3dvcmRJZCA9IG1lLmRhdGEoXCJwYXNzd29yZC1pZFwiKSxcblx0XHRcdFx0dGFyZ2V0Rm9ybSA9ICQoXCIjcGFnZV9wYXNzd29yZF9saXN0X2Zvcm1fZWRpdFwiKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdG1lLmF0dHIoXCJkaXNhYmxlZFwiLCBcIlwiKTtcblx0XHRcdG1lLmh0bWwoc3Bpbm5lclNWRyk7XG5cdFx0XHRyZXF1ZXN0KFwiYT1wYXNzd29yZC9xdWVyeSZpZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChwYXNzd29yZElkKSwgZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0aWYgKGRhdGEuc3VjY2Vzcykge1xuXHRcdFx0XHRcdG1lLmh0bWwoXCI8aSBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPmVkaXQ8L2k+XCIpO1xuXHRcdFx0XHRcdG1lLmF0dHIoXCJkaXNhYmxlZFwiLCBudWxsKTtcblx0XHRcdFx0XHR0YXJnZXRGb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSdpZCddXCIpLnZhbChwYXNzd29yZElkKTtcblx0XHRcdFx0XHR0YXJnZXRGb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSd1c2VybmFtZSddXCIpLnZhbChkYXRhLmRhdGEudXNlcm5hbWUucmF3KS5jaGFuZ2UoKTtcblx0XHRcdFx0XHR0YXJnZXRGb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSdwYXNzd29yZCddXCIpLnZhbChkYXRhLmRhdGEucGFzc3dvcmQucmF3KS5jaGFuZ2UoKTtcblx0XHRcdFx0XHR0YXJnZXRGb3JtLmZpbmQoXCJpbnB1dFtuYW1lPSdkZXNjcmlwdGlvbiddXCIpLnZhbChkYXRhLmRhdGEuZGVzY3JpcHRpb24ucmF3KS5jaGFuZ2UoKTtcblx0XHRcdFx0XHQkKFwiI3BhZ2VfcGFzc3dvcmRfbGlzdF9tb2RhbF9lZGl0XCIpLm1vZGFsKFwic2hvd1wiKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtZS5odG1sKFwiPGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5lcnJvcjwvaT5cIik7XG5cdFx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHRcdH1cblx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bWUuaHRtbChcIjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+ZXJyb3I8L2k+XCIpO1xuXHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIilcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0cGFzc3dvcmRUYWJsZS5vbignY2xpY2snLCAnKltkYXRhLXBhc3N3b3JkLWFjdGlvbj1cImFyY2hpdmVcIl0nLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpLFxuXHRcdFx0XHRwYXNzd29yZElkID0gbWUuZGF0YShcInBhc3N3b3JkLWlkXCIpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0bWUuYXR0cihcImRpc2FibGVkXCIsIFwiXCIpO1xuXHRcdFx0bWUuaHRtbChzcGlubmVyU1ZHKTtcblx0XHRcdHJlcXVlc3QoXCJhPXBhc3N3b3JkL2FyY2hpdmUmaWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFzc3dvcmRJZCksIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRyZWZyZXNoKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWUuaHRtbChcIjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+ZXJyb3I8L2k+XCIpO1xuXHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1lLmh0bWwoXCI8aSBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPmVycm9yPC9pPlwiKTtcblx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGFyY2hpdmVkUGFzc3dvcmRUYWJsZS5vbignY2xpY2snLCAnKltkYXRhLXBhc3N3b3JkLWFjdGlvbj1cInJlc3RvcmVcIl0nLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpLFxuXHRcdFx0XHRwYXNzd29yZElkID0gbWUuZGF0YShcInBhc3N3b3JkLWlkXCIpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0bWUuYXR0cihcImRpc2FibGVkXCIsIFwiXCIpO1xuXHRcdFx0bWUuaHRtbChzcGlubmVyU1ZHKTtcblx0XHRcdHJlcXVlc3QoXCJhPXBhc3N3b3JkL3Jlc3RvcmUmaWQ9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFzc3dvcmRJZCksIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRyZWZyZXNoKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWUuaHRtbChcIjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+ZXJyb3I8L2k+XCIpO1xuXHRcdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1lLmh0bWwoXCI8aSBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPmVycm9yPC9pPlwiKTtcblx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGFyY2hpdmVkUGFzc3dvcmRUYWJsZS5vbignY2xpY2snLCAnKltkYXRhLXBhc3N3b3JkLWFjdGlvbj1cImRlbGV0ZVwiXScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRjb25zdCBtZSA9ICQodGhpcyksXG5cdFx0XHRcdHBhc3N3b3JkSWQgPSBtZS5kYXRhKFwicGFzc3dvcmQtaWRcIik7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRtZS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJcIik7XG5cdFx0XHRtZS5odG1sKHNwaW5uZXJTVkcpO1xuXHRcdFx0cmVxdWVzdChcImE9cGFzc3dvcmQvZGVsZXRlJmlkPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhc3N3b3JkSWQpLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0cmVmcmVzaCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG1lLmh0bWwoXCI8aSBjbGFzcz0nbWF0ZXJpYWwtaWNvbnMnPmVycm9yPC9pPlwiKTtcblx0XHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIilcblx0XHRcdFx0fVxuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRtZS5odG1sKFwiPGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5lcnJvcjwvaT5cIik7XG5cdFx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblxuXHRcdC8vIE1PREFMU1xuXHRcdCQoJy5tb2RhbCcpLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvbnN0IG1lID0gJCh0aGlzKTtcblx0XHRcdG1lLmZpbmQoJ2lucHV0W3R5cGU9dGV4dF0sdGV4dGFyZWEsc2VsZWN0JykuZmlsdGVyKCc6dmlzaWJsZTpmaXJzdCcpLmZvY3VzKCk7XG5cdFx0fSk7XG5cblx0XHQkKCcjcGFnZV91c2VyX3NldHRpbmdzX21vZGFsXzJmYV9zZXR1cCcpLm9uKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0Y29uc3QgbWUgPSAkKHRoaXMpO1xuXHRcdFx0JCgnI3RhYl8yZmEnKS5maW5kKCdhOmZpcnN0JykudGFiKCdzaG93Jyk7XG5cdFx0XHRtZS5maW5kKFwiZm9ybVwiKS5lYWNoKGZ1bmN0aW9uIChpLCBlbGVtKSB7XG5cdFx0XHRcdGVsZW0ucmVzZXQoKTtcblx0XHRcdH0pO1xuXHRcdFx0JChcIiNidG5fMmZhX25leHRcIikuc2hvdygpO1xuXHRcdFx0JChcIiNidG5fMmZhX2VuYWJsZV9zdWJtaXRcIikuaGlkZSgpO1xuXHRcdFx0JChcIiNidG5fMmZhX2ZpbmlzaFwiKS5oaWRlKCk7XG5cdFx0XHRyZXF1ZXN0KFwiYT11c2VyLzJmYUdlbmVyYXRlS2V5XCIsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHQkKFwiI3ByZV8yZmFfa2V5XCIpLnRleHQoZGF0YS5kYXRhLnByaXZhdGVLZXkpO1xuXHRcdFx0XHRcdCQoXCIjcHJlXzJmYV9rZXkyXCIpLnRleHQoZGF0YS5kYXRhLnByaXZhdGVLZXkpO1xuXHRcdFx0XHRcdCQoXCIjaW1nXzJmYV9rZXlcIikuYXR0cihcInNyY1wiLCBkYXRhLmRhdGEucXJDb2RlVXJsKTtcblx0XHRcdFx0XHRtZS5maW5kKFwiaW5wdXRbbmFtZT0nMmZhUHJpdmF0ZUtleSddXCIpLnZhbChkYXRhLmRhdGEucHJpdmF0ZUtleSkuY2hhbmdlKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fSlcblx0fSAvLyBFTkQgcmVnaXN0ZXJQYWdlTGlzdGVuZXJzKClcblxuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy9QQUdFIFNQRUNJRklDIE1FVEhPRFNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cblx0ZnVuY3Rpb24gdGltZW91dFBhc3N3b3JkKHBhc3N3b3JkT2JqZWN0LCBwYXNzd29yZElkKSB7XG5cdFx0cGFzc3dvcmRPYmplY3QuYXBwZW5kKFwiIDxzcGFuIGlkPSd0aW1lTGVmdF9cIiArIHBhc3N3b3JkSWQgKyBcIicgY2xhc3M9J3RleHQtbXV0ZWQnPjwvc3Bhbj5cIik7XG5cdFx0bGV0IHRpbWVMZWZ0ID0gNjA7XG5cdFx0Y29uc3QgdGltZUxlZnREaXNwbGF5ID0gcGFzc3dvcmRPYmplY3QuZmluZChcIiN0aW1lTGVmdF9cIiArIHBhc3N3b3JkSWQpO1xuXG5cdFx0Y29uc3QgdGltZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aW1lTGVmdERpc3BsYXkuaHRtbCh0aW1lTGVmdCk7XG5cdFx0XHRpZiAodGltZUxlZnQgPT09IDEwKSB7XG5cdFx0XHRcdHRpbWVMZWZ0RGlzcGxheS5hZGRDbGFzcyhcInRleHQtZGFuZ2VyXCIpO1xuXHRcdFx0XHR0aW1lTGVmdERpc3BsYXkucmVtb3ZlQ2xhc3MoXCJ0ZXh0LW11dGVkXCIpO1xuXHRcdFx0fSBlbHNlIGlmICh0aW1lTGVmdCA9PT0gMCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKHRpbWVySWQpO1xuXHRcdFx0XHRwYXNzd29yZE9iamVjdC5odG1sKFwiPGEgY2xhc3M9J2J0biBidG4tZGVmYXVsdCBidG4tZmxhdCBidG4tYmxvY2snIGRhdGEtcGFzc3dvcmQtYWN0aW9uPSdzaG93JyBkYXRhLXBhc3N3b3JkLWlkPSdcIiArIHBhc3N3b3JkSWQgKyBcIic+PGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5yZW1vdmVfcmVkX2V5ZTwvaT48L2E+XCIpO1xuXHRcdFx0fVxuXHRcdFx0dGltZUxlZnQtLTtcblx0XHR9O1xuXHRcdHRpbWVyKCk7XG5cblx0XHRsZXQgdGltZXJJZCA9IHNldEludGVydmFsKHRpbWVyLCAxMDAwKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gZmV0Y2hQYXNzd29yZHMoY2FsbGJhY2tEb25lKSB7XG5cdFx0Y29uc3QgdGFibGVQYXNzd29yZHNCb2R5ID0gJChcIiN0Ym9keVBhc3N3b3Jkc1wiKSxcblx0XHRcdHRhYmxlQXJjaGl2ZWRCb2R5ID0gJChcIiN0Ym9keUFyY2hpdmVkUGFzc3dvcmRzXCIpO1xuXHRcdHJlcXVlc3QoXCJhPXBhc3N3b3JkL3F1ZXJ5QWxsXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRsZXQgY29udGVudFBhc3N3b3JkcyA9IFwiXCIsXG5cdFx0XHRcdGNvbnRlbnRBcmNoaXZlZFBhc3N3b3JkID0gXCJcIjtcblx0XHRcdGlmIChkYXRhLnN1Y2Nlc3MpIHtcblx0XHRcdFx0JC5lYWNoKGRhdGEuZGF0YSwgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XG5cblx0XHRcdFx0XHRjb25zdCBkZXNjcmlwdGlvbiA9IGl0ZW0uZGVzY3JpcHRpb24ucmF3ID8gaXRlbS5kZXNjcmlwdGlvbi5zYWZlIDogXCI8aT5Ob25lPC9pPlwiO1xuXHRcdFx0XHRcdGNvbnN0IHVzZXJuYW1lID0gaXRlbS51c2VybmFtZS5yYXcgPyBpdGVtLnVzZXJuYW1lLnNhZmUgOiBcIjxpPk5vbmU8L2k+XCI7XG5cblx0XHRcdFx0XHRsZXQgcm93ID0gXCI8dHIgZGF0YS12aXNpYmxlPSd0cnVlJyBpZD0nXCIgKyBpdGVtLnBhc3N3b3JkX2lkICsgXCInPlwiO1xuXHRcdFx0XHRcdGlmICghaXRlbS5hcmNoaXZlZCkge1xuXHRcdFx0XHRcdFx0Ly8gUGFzc3dvcmRzIHBhZ2Vcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD48c3BhbiBjbGFzcz0nZm9yY2Utc2VsZWN0IG5vLWNvbnRleHRtZW51Jz5cIiArIHVzZXJuYW1lICsgXCI8L3NwYW4+PC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD48YnV0dG9uIGNsYXNzPSdidG4gYnRuLWRlZmF1bHQgYnRuLWZsYXQgYnRuLWJsb2NrJyBkYXRhLXBhc3N3b3JkLWFjdGlvbj0nc2hvdycgZGF0YS1wYXNzd29yZC1pZD0nXCIgKyBpdGVtLnBhc3N3b3JkX2lkICsgXCInPjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+cmVtb3ZlX3JlZF9leWU8L2k+PC9idXR0b24+PC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD5cIiArIGRlc2NyaXB0aW9uICsgXCI8L3RkPlwiO1xuXHRcdFx0XHRcdFx0cm93ICs9IFwiPHRkPlwiICsgaXRlbS5kYXRlX2FkZGVkLnByZXR0eSArIFwiPC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD5cIiArXG5cdFx0XHRcdFx0XHRcdFwiPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1kZWZhdWx0IGJ0bi1mbGF0IGJ0bi1zbScgZGF0YS1wYXNzd29yZC1hY3Rpb249J2VkaXQnIGRhdGEtcGFzc3dvcmQtaWQ9J1wiICsgaXRlbS5wYXNzd29yZF9pZCArIFwiJz5cIiArXG5cdFx0XHRcdFx0XHRcdFwiPGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5lZGl0PC9pPlwiICtcblx0XHRcdFx0XHRcdFx0XCI8L2J1dHRvbj5cIiArXG5cdFx0XHRcdFx0XHRcdFwiPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1kZWZhdWx0IGJ0bi1mbGF0IGJ0bi1zbScgZGF0YS1wYXNzd29yZC1hY3Rpb249J2FyY2hpdmUnIGRhdGEtcGFzc3dvcmQtaWQ9J1wiICsgaXRlbS5wYXNzd29yZF9pZCArIFwiJz5cIiArXG5cdFx0XHRcdFx0XHRcdFwiPGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5hcmNoaXZlPC9pPlwiICtcblx0XHRcdFx0XHRcdFx0XCI8L2J1dHRvbj5cIiArXG5cdFx0XHRcdFx0XHRcdFwiPC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjwvdHI+XCI7XG5cdFx0XHRcdFx0XHRjb250ZW50UGFzc3dvcmRzICs9IHJvdztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gQXJjaGl2ZWQgcGFnZVxuXHRcdFx0XHRcdFx0cm93ICs9IFwiPHRkPjxzcGFuIGNsYXNzPSdmb3JjZS1zZWxlY3Qgbm8tY29udGV4dG1lbnUnPiBcIiArIHVzZXJuYW1lICsgXCI8L3NwYW4+PC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD48YnV0dG9uIGNsYXNzPSdidG4gYnRuLWRlZmF1bHQgYnRuLWZsYXQgYnRuLWJsb2NrJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+cmVtb3ZlX3JlZF9leWU8L2k+PC9idXR0b24+PC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD5cIiArIGRlc2NyaXB0aW9uICsgXCI8L3RkPlwiO1xuXHRcdFx0XHRcdFx0cm93ICs9IFwiPHRkPlwiICsgaXRlbS5kYXRlX2FyY2hpdmVkLnByZXR0eSArIFwiPC90ZD5cIjtcblx0XHRcdFx0XHRcdHJvdyArPSBcIjx0ZD48YnV0dG9uIGNsYXNzPSdidG4gYnRuLWRlZmF1bHQgYnRuLWZsYXQgYnRuLXNtJyBkYXRhLXBhc3N3b3JkLWFjdGlvbj0ncmVzdG9yZScgZGF0YS1wYXNzd29yZC1pZD0nXCIgKyBpdGVtLnBhc3N3b3JkX2lkICsgXCInPjxpIGNsYXNzPSdtYXRlcmlhbC1pY29ucyc+dW5hcmNoaXZlPC9pPjwvYnV0dG9uPjxhIGNsYXNzPSdidG4gYnRuLWRlZmF1bHQgYnRuLWZsYXQgYnRuLXNtJyBkYXRhLXBhc3N3b3JkLWFjdGlvbj0nZGVsZXRlJyBkYXRhLXBhc3N3b3JkLWlkPSdcIiArIGl0ZW0ucGFzc3dvcmRfaWQgKyBcIic+PGkgY2xhc3M9J21hdGVyaWFsLWljb25zJz5kZWxldGU8L2k+PC9hPjwvdGQ+XCI7XG5cdFx0XHRcdFx0XHRyb3cgKz0gXCI8L3RyPlwiO1xuXHRcdFx0XHRcdFx0Y29udGVudEFyY2hpdmVkUGFzc3dvcmQgKz0gcm93O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIik7XG5cdFx0XHR9XG5cdFx0XHR0YWJsZVBhc3N3b3Jkc0JvZHkuaHRtbChjb250ZW50UGFzc3dvcmRzKTtcblx0XHRcdHRhYmxlQXJjaGl2ZWRCb2R5Lmh0bWwoY29udGVudEFyY2hpdmVkUGFzc3dvcmQpO1xuXHRcdFx0aWYgKGNhbGxiYWNrRG9uZSlcblx0XHRcdFx0Y2FsbGJhY2tEb25lKGRhdGEubXNnKTtcblx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0YWJsZVBhc3N3b3Jkc0JvZHkuaHRtbChcIlwiKTtcblx0XHRcdHNuYWNrYmFyKFwiVGhlcmUgaGFzIGJlZW4gYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiKTtcblx0XHRcdGlmIChjYWxsYmFja0RvbmUpXG5cdFx0XHRcdGNhbGxiYWNrRG9uZShmYWxzZSk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGZldGNoSVBMb2coY2FsbGJhY2tEb25lKSB7XG5cdFx0Y29uc3QgdGFibGVCb2R5ID0gJChcIiN0Ym9keUxvZ2luSGlzdG9yeVwiKTtcblx0XHRyZXF1ZXN0KFwiYT1pcGxvZy9xdWVyeUFsbFwiLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0bGV0IGNvbnRlbnQgPSBcIlwiO1xuXHRcdFx0aWYgKGRhdGEuc3VjY2Vzcykge1xuXHRcdFx0XHRjb25zdCBqc29uRGF0YSA9IGRhdGEuZGF0YTtcblx0XHRcdFx0JC5lYWNoKGpzb25EYXRhLCBmdW5jdGlvbiAoaW5kZXgsIGl0ZW0pIHtcblx0XHRcdFx0XHRsZXQgcm93ID0gXCI8dHI+XCI7XG5cblx0XHRcdFx0XHRyb3cgKz0gXCI8dGQ+PHNwYW4+XCIgKyBpdGVtLmlwICsgXCI8L3NwYW4+PC90ZD5cIjtcblx0XHRcdFx0XHRyb3cgKz0gXCI8dGQ+PHNwYW4+XCIgKyBpdGVtLnVzZXJfYWdlbnQgKyBcIjwvc3Bhbj48L3RkPlwiO1xuXHRcdFx0XHRcdHJvdyArPSBcIjx0ZD48c3Bhbj5cIiArIGl0ZW0uZGF0ZS5wcmV0dHkgKyBcIjwvc3Bhbj48L3RkPlwiO1xuXHRcdFx0XHRcdHJvdyArPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRjb250ZW50ICs9IHJvdztcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzbmFja2JhcihcIlRoZXJlIGhhcyBiZWVuIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIik7XG5cdFx0XHR9XG5cdFx0XHR0YWJsZUJvZHkuaHRtbChjb250ZW50KTtcblx0XHRcdGlmIChjYWxsYmFja0RvbmUpXG5cdFx0XHRcdGNhbGxiYWNrRG9uZSgpO1xuXHRcdH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRhYmxlQm9keS5odG1sKFwiXCIpO1xuXHRcdFx0c25hY2tiYXIoXCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyXCIpO1xuXHRcdFx0aWYgKGNhbGxiYWNrRG9uZSlcblx0XHRcdFx0Y2FsbGJhY2tEb25lKGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0c2V0T3B0aW9uOiBmdW5jdGlvbiAob3B0aW9uLCB2YWx1ZSkge1xuXHRcdFx0Y29uc3QgcHJldmlvdXNWYWx1ZSA9IG9wdGlvbnNbb3B0aW9uXTtcblx0XHRcdG9wdGlvbnNbb3B0aW9uXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIFwiUHJldmlvdXMgdmFsdWUgd2FzIFwiICsgcHJldmlvdXNWYWx1ZTtcblx0XHR9XG5cdH1cbn0pKCk7XG4iXX0=
